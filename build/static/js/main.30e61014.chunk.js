(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{331:function(e,t,n){e.exports=n(673)},336:function(e,t,n){},341:function(e,t,n){},343:function(e,t,n){e.exports=n.p+"static/media/logo.bc8f3e2a.png"},344:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAB1FBMVEUAAAAAAAAAAAAjIyMqKiokJCQqKioqKioqKioAAAAqKioqKioAAAApKSkqKioqKioqKioqKioqKioAAAAqKioHBwcAAAAqKioqKioqKiomJiYqKioqKioqKioqKioqKioqKioqKioqKioqKioAAAAqKioqKioqKioqKioeHh4qKioAAAAqKioAAAAqKioqKioAAAAqKioqKioqKioqKioqKioqKioAAAAqKioAAAAqKioqKioqKioqKioAAAAAAAAqKioAAAAqKioAAAAqKioqKioqKionJycAAAAqKioqKioqKioqKioqKioqKioAAAAqKioqKioAAAAqKioqKioqKioqKioAAAAAAAAjIyMpKSkqKioQEBAoKCgqKioqKiojIyMfHx8mJiYnJycqKioqKiohISEAAAAfHx8qKioqKioDAwMpKSkoKCgqKioqKioeHh4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiobGxsXFxcAAAAAAAAqKioqKioqKiomJiYpKSkoKCgPDw8dHR0WFhYGBgYfHx8iIiInJycAAAAZGRkeHh4DAwMVFRUODg4UFBQqKipvyjCsAAAAinRSTlMAzAn8BvbtDDP5A2zz8J8S24p4G1rePx6HadVmMDZLYL0YD0jSmeEkJ+rklufJw7Soos9FgS1jfsylUdhUTrG3Kjyrk9IhwMZXrqV1ORVCco1dnJC6hOrN4vu3e/D3b9X64trppPz79trs3rDy9XH15dbmt8bJnJZyPPkbqH4Jk1f28+z38PLwsT8zpEzsAAAGTklEQVR4Xuzay2tiSRQG8G9x8YoXfAQhCT4fqEFCgokJoZNACHYgj25omHHTMK7uxsXMIsmkczU3rRvbv+H7Z2eWsxmmR28dT6m/Te0P9fiq6kDexsbGxsYGnHg8fpzL5bJ/j0OslWrNq9+0+E/B2V2ntIc1ENZ2nvlv9kenH7HKwuyjz//Q6OxhRX1OTvhTnrwUVo7rDfjzguQJVoq7FeP/dBjHykh4Mc7huonV8NDlfMZvIeyXSnJ+6RpsdzHlQkYubOa8c1HpOOzVPOLiAg+2upwwEqMQVsr5jMhTChZ6Y3T627BN4oVRalzBMm1GK3YCq2QYtdYQFtli9PqfYI0sTXgOYYnXgEbcwg6fWjTEgxUeaUpQsGMDNGdQhXoPPg26hnaJIxpVhHL3NCsdQrXhhIbtQLU7mhY0odgrzTuEYjcU8AC1jimhDLXKFBGHUnnKGEGpJGX4Q6hUHVPIG1TapZQBVDqgmFcotE057+u9AsgGFDqkoBOoE44paEtxDF7XONyhpHEC2vxCUXFoM6WoXX0pQNYLlKlR1g2U8SirBWUylOU70OWawprQ5YbCCtClT2GX0KVBYVl9OWiNk9CmAJsCbArQo7ASdBlQ2HfockZhx9DlkcLy0CVJYRXo8kZZYyjzhbL6UKZAWbdQxvUpqgNt0hT1Adq0KWoIbXKUNIA6V5TUhj4NCspCnxfK8VPQp0g5B1AojFGMB42SlOJXoNGMUg6h07lcDNTpG2W0EtDJnVLEPbTKUMKkCq0qEwr4FVjrKTBNQa9UTHuTqP0HQdqBZk6ahl1At1eBEKhbnSZNhtDOPadBX6BfPqAxddggR1P6IawwohmTPdih2hXoiVBtOKABHuzR7DFyO7BJYSJwAKg2i7gCowQsU+gxQu+wT7PByHyFjSpdRsM/hZ3ca0Zh/zOslRtzYeUKLJZPczH+G+zmvnMR/Rmslz/jvCb3DlbB739wLs8F2M8pZo44t0H9ogqLJYrtKRcU/Pjuwk4Pf8YYifFtEdZJ/dZnhPY727BJvh0wao/HsEWtTCO6JQcWKPVpzP63EMplz2lUzwuh2IcujWvtOlBqr0wBai8I4U5AKe0K1LlsUNDUS0CVjz8o7CgOPZyvY8qrV6HE1TmXoleDCqdjLstOAkvn3nGJDraxZPlzLlWsqOzdW17G0fXzIe9pG0vSTFOF6QxLMYtRiaAEebgIqEcH4u6pStKBrMxf5N3balNRFIVhwZiEiLGKkqpV6xGVULESibUFLyKioFSiBUXB0xKP4CmKrYpRwYiXeqGOl/UZZrbpnzX6PcKAtWHPNdecGjODEvtOlje9iqWiWl1jaGY/u06J1/vInn/e1RK7UJB3Ed6oyltchdpfEoh/U7a7LxA/XKNV1phLCyPtgz+msdcfYWNNqa0MNEd3a/JGWXhdGlX5VyR++0J1WSB+5GzlsUj8+7K6MtL7/5+BTyLxT6waZWUlfWfnBvMmKuzQWN4iOxuEl6psDYw3WwLWSHnWBmodkfh5GzuUqbfsF5CXpgxugfjZo+eWla8D7E8Qr108gCNJOZtjh6bzOrWiXaBJeZtnR4PxesUCuNRX7ooVBq4pe4NCr0CWlL10lr0J4HULBNCTgW/Dd860hOKvSbqyMAOvTOANe080LxOT7GRI3sSQJ6AvF1NAP5zBGbggG4fhE8BrsYuTeFuBlujsy8MdGUnx/4GGrMQfmO6VlS7bFMlrs3uzeKkSvRGVmehk1gWZic4mnRSK385yXGaawQCacrOP/QbyTrLrM3kb2U0xvEPsryBvOhTAQCh+X/us7KRQr0hZfhqReqAMvYv0BgrFN4xVZSiyqWROKL4yfF8o/g3NCxmqBwJ4KUM3AgEsydD5QACPZGhnIIBNMnQ3EMBTGboXCOCWDD0LBLBBhh4GArgtQ3cCAVyXoedrPYCjgQDWr/UAHsjQl0AAX2XoZiCA7fLz80kggIO/ZefP6UgAv/7+kJV/3NAxCoMwGAXg2K3gJngCNxG6iYsiXdwEl3iDnqQdQhv156ngaUuO8Mb83xG+7w9cANZlk8CJ36PlxUlwXCfIAHW4gAoKTURACYVGIqCHPvfMEB5QpzaMWwdlnoY0dC8ESGebRMrOHwR4t/m/HTgQAAAAABC0P/UiFQAAAAAANFTSpWs8REjCAAAAAElFTkSuQmCC"},362:function(e,t,n){},363:function(e,t,n){},575:function(e,t){},577:function(e,t){},588:function(e,t){},590:function(e,t){},617:function(e,t){},619:function(e,t){},620:function(e,t){},626:function(e,t){},628:function(e,t){},646:function(e,t){},649:function(e,t){},665:function(e,t){},668:function(e,t){},671:function(e,t,n){},673:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(35),l=n.n(c),i=(n(336),n(24)),s=n(23),u=n(43),d=(n(341),n(80)),m=n(61),f=n(684),g=n(678),h=n(162),E=n(328),p=n(685),v=n(686),y=Object(s.g)((function(e){return r.a.createElement(f.a,{variant:"light",expand:"md",style:{backgroundColor:"white"}},r.a.createElement(f.a.Brand,{className:"mr-auto"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:n(343),width:"150",height:"30",className:"d-inline-block align-top",alt:"Zenroom logo"}))),"/"===e.location.pathname&&r.a.createElement(g.a,{className:"mr-5",id:"dropdown-variants-Secondary",title:"Examples",variant:"info"},e.contracts.map((function(t,n){return r.a.createElement(h.a.Item,{key:n,onClick:function(){!function(t){e.loadContract(t)}(n)}}," ",t.name)}))),"/"===e.location.pathname&&r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2",onClick:e.executeZenroom},"Play"),e.isAuthenticated?"/"===e.location.pathname?r.a.createElement("div",null,e.userLoaded?r.a.createElement(o.Fragment,null,r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2",onClick:e.updateContract},"Update: ",e.contractName),r.a.createElement(m.b,{to:"/profile"},r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2",onClick:function(){}},"Back"))):r.a.createElement(o.Fragment,null,r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2",onClick:e.showSave},"Save"),r.a.createElement(p.a,{trigger:"click",key:"bottom",placement:"bottom",overlay:r.a.createElement(v.a,{id:"popover-positioned-bottom"},r.a.createElement(v.a.Content,{style:{padding:0}},r.a.createElement("div",{className:"list-group"},r.a.createElement(m.b,{to:"/profile",className:"list-group-item list-group-item-action"},"My Contracts"),r.a.createElement("a",{style:{cursor:"pointer"},className:"list-group-item list-group-item-action",onClick:function(){return e.logout()}},r.a.createElement("strong",null,"Sign Out")))))},r.a.createElement("img",{style:{cursor:"pointer"},src:n(344),width:"auto",height:"40",alt:"Zenroom logo"})))):null:r.a.createElement(E.a,{variant:"outline-primary",className:"mr-sm-2",onClick:e.showLogin},"Login"),"/profile"===e.location.pathname&&r.a.createElement(o.Fragment,null,r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2"},"Export"),r.a.createElement(m.b,{to:"/docs"},r.a.createElement(E.a,{variant:"outline-success",className:"mr-sm-2",onClick:function(){}},"Swagger"))))})),C=n(682),b=n(683),A=n(679),k=function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],l=Object(o.useState)(!1),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(o.useRef)(null),f=Object(o.useRef)(null),g=Object(o.useRef)(null),h=function(){e.showLogin(!1)};return Object(o.useEffect)((function(){!e.isAuthenticated||e.loading||e.error||h()}),[e]),r.a.createElement(C.a,{show:e.show,onHide:h},r.a.createElement(C.a.Header,{closeButton:!0},u?r.a.createElement(C.a.Title,{className:"ml-5"},"Register"):r.a.createElement(C.a.Title,{className:"ml-5"},"Sign in")),r.a.createElement(C.a.Body,{className:"px-5 pb-1 pt-5"},r.a.createElement(b.a,{ref:g,validated:a,onSubmit:function(t){t.preventDefault(),t.stopPropagation(),c(!0);var n=m.current.value,a=f.current.value;e.auth(n,a,u)}},r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Control,{ref:m,type:"email",placeholder:"Enter email",required:!0})),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Control,{ref:f,type:"password",placeholder:"Password",minLength:"8",required:!0}),r.a.createElement(b.a.Control.Feedback,{type:"invalid"},"Please enter password with min 8 characters.")),r.a.createElement(E.a,{variant:"primary",type:"submit"},e.loading&&r.a.createElement(A.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),u?"Register":"Login"),e.error&&r.a.createElement("div",{style:{color:"red"}},e.error))),r.a.createElement(C.a.Footer,{className:"px-5 pb-3 pt-0",style:{border:0}},r.a.createElement(E.a,{variant:"secondary",onClick:function(){d(!u)}},u?"Login Instead":"Register Instead"),r.a.createElement(E.a,{variant:"secondary",onClick:h},"Cancel")))},O=n(20),S=n(207),N=n.n(S),z=n(69),K=n.n(z),j=function(e){return{type:"ZENCODE",zencode:e}},q=function(e){return{type:"KEYS",keys:e}},L=function(e){return{type:"DATA",data:e}},x=function(e){return{type:"CONFIG",config:e}},w=function(e){return{type:"EXECUTE",execute:e}},I=function(e){return{type:"SAVING_SUCCESS",savedSuccess:e}},T=function(e){return{type:"SAVING_FAIL",savedFail:e}},U=function(e,t,n){return function(t,n){var a=n(),o=(a.zenroom,a.auth);if(Array.isArray(e)&&!e.length)return t(T("Select something to save..."));if(!o.userId||!o.token)return t(T("You must be logged in to save."));var r=[];e.forEach((function(e){r.push(function(e,t,n,a,o){return new Promise((function(r,c){a&&o||c("You must be logged in to save.");var l={name:t,userId:a,content:n},i="/data/save/"+e;K.a.post(i,l,{headers:{"auth-token":o}}).then((function(t){r({msg:"finished saving "+e})})).catch((function(t){console.log("Saving error for: "+e),console.log(t),c("Failed to save! reason: "+t)}))}))}(e.type,e.name,e.content,o.userId,o.token))})),Promise.all(r).then((function(e){t(I(!0))})).catch((function(e){console.log("IN SAVING PROMISE ERROR:"),console.log(e),t(T("Failed to save! reason: "+e))}))}},D=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},R=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},_=function(e){return{type:"CONTRACT_COLLECTION",contractCollection:e}},B=function(e){return{type:"RESULT_COLLECTION",isLoading:e}},F=Object(u.b)((function(e){return{zencode:e.zenroom.zencode,keys:e.zenroom.keys,data:e.zenroom.data,config:e.zenroom.config,result:e.zenroom.result,savedSuccess:e.zenroom.savedSuccess,saveError:e.zenroom.savedFail}}),(function(e){return{saveContract:function(t){return e(function(e){return function(t,n){var a=n(),o=a.zenroom,r=a.auth;if(!r.userId||!r.token)return t(T("You must be logged in to save."));if(!o.zencode&&!o.keys&&!o.data)return t(T("There is no content to save."));var c={name:e,zencode:o.zencode,keys:o.keys,data:o.data,config:o.config,userId:r.userId};K.a.post("/data/save/contract",c,{headers:{"auth-token":r.token}}).then((function(e){t(I(!0))})).catch((function(e){console.log("Saving error:"),console.log(e),t(T("Failed to save! reason: "+e))}))}}(t))},saveAllTypes:function(t){return e(U(t))}}}))((function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=(n[1],Object(o.useState)(!1)),l=Object(i.a)(c,2),s=l[0],u=l[1],d=Object(o.useState)(!1),m=Object(i.a)(d,2),f=m[0],g=m[1],h=Object(o.useState)(!0),p=Object(i.a)(h,2),v=p[0],y=p[1],k=Object(o.useState)({zencode:!0,keys:!0,data:!0,config:!0,result:!0}),S=Object(i.a)(k,2),N=S[0],z=S[1],K=Object(o.useRef)(null),j=Object(o.useRef)(null),q=Object(o.useRef)(null),L=Object(o.useRef)(null),x=Object(o.useRef)(null),w=Object(o.useRef)(null),I=Object(o.useRef)(null),T=(Object(o.useRef)(null),function(){e.showSave(!1)});return Object(o.useEffect)((function(){e.savedSuccess&&(e.showSave(!1),u(!1)),e.saveError&&u(!1)}),[e.savedSuccess,e.saveError]),r.a.createElement(C.a,{show:e.show,onHide:T},r.a.createElement(C.a.Header,{closeButton:!0},"Save"),r.a.createElement(b.a,{ref:I,validated:a,onSubmit:function(t){t.preventDefault(),t.stopPropagation();try{var n=[];if(v){var a=K.current.value;e.saveContract(a),u(!0)}else N.zencode&&e.zencode&&n.push({name:j.current.value,content:e.zencode,type:"zencode"}),N.keys&&e.keys&&n.push({name:q.current.value,content:JSON.parse(e.keys),type:"keys"}),N.data&&e.data&&n.push({name:L.current.value,content:JSON.parse(e.data),type:"data"}),N.config&&e.config&&n.push({name:x.current.value,content:JSON.parse(e.config),type:"config"}),N.result&&e.result&&n.push({name:w.current.value,content:JSON.parse(e.result),type:"result"});e.saveAllTypes(n),u(!0)}catch(o){console.log("Cannot save Format error"),console.log(o),g("Please check json formats are correct.")}}},r.a.createElement(C.a.Body,{className:"px-5 pb-1"},r.a.createElement(b.a.Check,{checked:!!v,onChange:function(){return y(!v)},name:"groupOptions",label:"Save Everything",type:"radio"}),r.a.createElement(b.a.Check,{className:"mb-4",checked:!v,onChange:function(){return y(!v)},name:"groupOptions",label:"Choose fields to save",type:"radio"}),v?r.a.createElement(o.Fragment,null,e.zencode?r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Control,{ref:K,type:"text",placeholder:"Name the Contract",minLength:"3",required:!0}),r.a.createElement(b.a.Control.Feedback,{type:"invalid"},"Please enter a name.")):r.a.createElement("h5",null,"You must provide zencode before saving :)"),e.saveError&&r.a.createElement("div",{style:{color:"red"}},e.saveError)):r.a.createElement(o.Fragment,null,e.zencode||e.data||e.keys||e.config?r.a.createElement(o.Fragment,null,e.zencode&&r.a.createElement("div",{className:"row mb-1"},r.a.createElement("div",{className:"col-sm-3 pt-1"},r.a.createElement(b.a.Check,{inline:!0,label:"zencode",type:"checkbox",checked:N.zencode,onChange:function(){return z(Object(O.a)(Object(O.a)({},N),{},{zencode:!N.zencode}))}})),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement(b.a.Control,{ref:j,size:"sm",type:"text",placeholder:"name",minLength:"3",required:!0,disabled:!N.zencode})),r.a.createElement("div",{className:"col-sm-4"})),e.keys&&r.a.createElement("div",{className:"row mb-1"},r.a.createElement("div",{className:"col-sm-3 pt-1"},r.a.createElement(b.a.Check,{inline:!0,label:"keys",type:"checkbox",checked:N.keys,onChange:function(){return z(Object(O.a)(Object(O.a)({},N),{},{keys:!N.keys}))}})),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement(b.a.Control,{ref:q,size:"sm",type:"text",placeholder:"name",minLength:"3",required:!0,disabled:!N.keys})),r.a.createElement("div",{className:"col-sm-4"})),e.data&&r.a.createElement("div",{className:"row mb-1"},r.a.createElement("div",{className:"col-sm-3 pt-1"},r.a.createElement(b.a.Check,{inline:!0,label:"data",type:"checkbox",checked:N.data,onChange:function(){return z(Object(O.a)(Object(O.a)({},N),{},{data:!N.data}))}})),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement(b.a.Control,{ref:L,size:"sm",type:"text",placeholder:"name",minLength:"3",required:!0,disabled:!N.data})),r.a.createElement("div",{className:"col-sm-4"})),e.config&&r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-3 pt-1"},r.a.createElement(b.a.Check,{inline:!0,label:"config",type:"checkbox",checked:N.config,onChange:function(){return z(Object(O.a)(Object(O.a)({},N),{},{config:!N.config}))}})),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement(b.a.Control,{ref:x,size:"sm",type:"text",placeholder:"name",minLength:"3",required:!0,disabled:!N.config})),r.a.createElement("div",{className:"col-sm-4"})),e.result&&r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm-3 pt-1"},r.a.createElement(b.a.Check,{inline:!0,label:"result",type:"checkbox",checked:N.result,onChange:function(){return z(Object(O.a)(Object(O.a)({},N),{},{result:!N.result}))}})),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement(b.a.Control,{ref:w,size:"sm",type:"text",placeholder:"name",minLength:"3",required:!0,disabled:!N.result})),r.a.createElement("div",{className:"col-sm-4"})),(e.saveError||f)&&r.a.createElement(o.Fragment,null,r.a.createElement("div",{style:{color:"red"}},e.saveError),r.a.createElement("div",{style:{color:"red"}},f))):r.a.createElement("h5",null,"You must provide some data to save :)"))),r.a.createElement(C.a.Footer,{className:"px-5 pb-3 pt-0",style:{border:0}},(v&&e.zencode||!v&&(e.zencode||e.data||e.keys||e.config||e.result))&&r.a.createElement(E.a,{variant:"primary",type:"submit"},s&&r.a.createElement(A.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),s?"Saving":"Save"),r.a.createElement(E.a,{variant:"secondary",onClick:T},"Cancel"))))})),G=n(680),P=(n(362),Object(u.b)((function(e){return{isLoading:e.collections.isLoading,zencodeCollection:e.collections.zencodeCollection,keysCollection:e.collections.keysCollection,dataCollection:e.collections.dataCollection,configCollection:e.collections.configCollection}}),(function(e){return{onLoadCollection:function(t){return e(function(e){return function(t,n){t(B(!0));var a=n(),o=(a.zenroom,a.auth);if(o.userId&&o.token){var r="/data/load/"+e;K.a.post(r,{userId:o.userId},{headers:{"auth-token":o.token}}).then((function(n){switch(e){case"zencodes":t({type:"ZENCODE_COLLECTION",zencodeCollection:n.data}),t(B(!1));break;case"keys":t({type:"KEYS_COLLECTION",keysCollection:n.data}),t(B(!1));break;case"datas":t({type:"DATA_COLLECTION",dataCollection:n.data}),t(B(!1));break;case"configs":t({type:"CONFIG_COLLECTION",configCollection:n.data}),t(B(!1));break;default:console.log("no type found")}})).catch((function(e){console.log("Saving error:"),console.log(e)}))}}}(t))},onZencodeChanged:function(t){return e(j(t))},onKeysChanged:function(t){return e(q(t))},onDataChanged:function(t){return e(L(t))},onConfigChanged:function(t){return e(x(t))}}}))((function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=(n[0],n[1],Object(o.useState)([])),c=Object(i.a)(a,2),l=c[0],s=c[1];return Object(o.useEffect)((function(){if(!e.isLoading)switch(e.collectionType){case"zencodes":s(e.zencodeCollection);break;case"keys":s(e.keysCollection);break;case"datas":s(e.dataCollection);break;case"configs":s(e.configCollection);break;default:s([])}}),[e.isLoading]),r.a.createElement(g.a,{className:"custom-button",as:G.a,key:"secondary",id:"dropdown-variants-secondary",variant:"secondary",onClick:function(){e.onLoadCollection(e.collectionType)},title:"",renderMenuOnMount:!1},r.a.createElement(h.a.Header,null,"Your ",e.collectionType),e.isLoading?r.a.createElement(h.a.Item,{eventKey:"5"},"Loading...",r.a.createElement(A.a,{className:"ml-2",as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})):l.length>0?r.a.createElement("div",null,l.map((function(t,n){return r.a.createElement(h.a.Item,{key:n,eventKey:n,onClick:function(){return function(t){switch(e.collectionType){case"zencodes":e.onZencodeChanged(l[t].content);break;case"keys":e.onKeysChanged(l[t].content);break;case"datas":e.onDataChanged(l[t].content);break;case"configs":e.onConfigChanged(l[t].content);break;default:s([])}}(n)}},t.name)}))):r.a.createElement(h.a.Item,{eventKey:"4"},"No ",e.collectionType))}))),J=function(e){if("string"!==typeof e)return!1;try{var t=JSON.parse(e),n=Object.prototype.toString.call(t);return"[object Object]"===n||"[object Array]"===n}catch(a){return!1}},M=(n(363),n(89)),Y=n.n(M),H=(n(226),n(227),n(228),null),Q=0,Z=function(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),c=Object(o.useRef)(null),l=Object(o.useState)({first:"80%",second:100,third:100,fourth:100}),s=Object(i.a)(l,2),u=s[0],d=s[1],m=function(e,t){e.stopPropagation(),e.preventDefault(),Q=e.clientY,document.addEventListener("mousemove",f),document.addEventListener("mouseup",g),H=!0,a=t},f=r.a.useCallback((function(e){var t=e.clientY-Q;switch(Q+=t,a){case"second":d((function(e){var n=e.first+t,a=e.second-t;return Object(O.a)(Object(O.a)({},e),{},{first:n,second:a})}));break;case"third":d((function(e){var n=e.second+t,a=e.third-t;return Object(O.a)(Object(O.a)({},e),{},{second:n,third:a})}));break;case"fourth":d((function(e){var n=e.third+t,a=e.fourth-t;return Object(O.a)(Object(O.a)({},e),{},{third:n,fourth:a})}))}}),[]),g=r.a.useCallback((function(e){H&&(H=!1,Q=0,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g))}),[]);return Object(o.useEffect)((function(){var e=t.current.clientHeight-311;d((function(t){return Object(O.a)(Object(O.a)({},t),{},{first:e})}))}),[]),r.a.createElement("div",{ref:t,style:{width:"100%",height:"100%"}},r.a.createElement("div",{ref:n,style:{height:u.first,width:"100%",position:"relative",backgroundColor:"#e8e8e8"}},r.a.createElement("div",{className:"header-container"},r.a.createElement("h6",{style:{margin:0}},"Contract"),r.a.createElement(P,{collectionType:"zencodes"})),r.a.createElement("div",{className:"dragger",onMouseDown:function(e){m(e,"first")}}),r.a.createElement(Y.a,{mode:"zencode",theme:"ambiance",onChange:function(t){e.zencodeChanged(t)},name:"UNIQUE_ID_OF_DIV",showPrintMargin:!1,width:"100%",height:(u.first-39).toString()+"px",value:e.zencode})),r.a.createElement("div",{ref:c,style:{height:u.second,width:"100%",position:"relative",backgroundColor:"#e8e8e8"}},r.a.createElement("div",{className:"header-container"},r.a.createElement("h6",{style:{margin:0}},"Keys"),r.a.createElement(P,{collectionType:"keys"})),r.a.createElement("div",{className:"dragger",onMouseDown:function(e){m(e,"second")}}),r.a.createElement(Y.a,{mode:"json5",theme:"ambiance",onChange:function(t){e.keysChanged(t)},name:"UNIQUE_ID_OF_DIV",showPrintMargin:!1,width:"100%",height:(u.second-39).toString()+"px",value:e.keys&&J(e.keys)?JSON.stringify(JSON.parse(e.keys),null,"\t"):e.keys})),r.a.createElement("div",{style:{height:u.third,width:"100%",position:"relative",backgroundColor:"#e8e8e8"}},r.a.createElement("div",{className:"header-container"},r.a.createElement("h6",{style:{margin:0}},"Data"),r.a.createElement(P,{collectionType:"datas"})),r.a.createElement("div",{className:"dragger",onMouseDown:function(e){m(e,"third")}}),r.a.createElement(Y.a,{mode:"json5",theme:"ambiance",onChange:function(t){e.dataChanged(t)},name:"UNIQUE_ID_OF_DIV",showPrintMargin:!1,width:"100%",height:(u.third-39).toString()+"px",value:e.data&&J(e.data)?JSON.stringify(JSON.parse(e.data),null,"\t"):e.data})),r.a.createElement("div",{style:{height:u.fourth,width:"100%",position:"relative",backgroundColor:"#e8e8e8"}},r.a.createElement("div",{className:"header-container"},r.a.createElement("h6",{style:{margin:0}},"Config"),r.a.createElement(P,{collectionType:"configs"})),r.a.createElement("div",{className:"dragger",onMouseDown:function(e){m(e,"fourth")}}),r.a.createElement(Y.a,{mode:"json5",theme:"ambiance",onChange:function(t){e.configChanged(t)},name:"UNIQUE_ID_OF_DIV",showPrintMargin:!1,width:"100%",height:(u.fourth-39).toString()+"px",value:e.config&&J(e.config)?JSON.stringify(JSON.parse(e.config),null,"\t"):e.config})))},V=(n(369),n(370),n(329)),X=n.n(V),W=Object(u.b)((function(e){return{zencode:e.zenroom.zencode,keys:e.zenroom.keys,data:e.zenroom.data,config:e.zenroom.config,result:e.zenroom.result,logs:e.zenroom.logs,execute:e.zenroom.execute}}),(function(e){return{onZencodeChanged:function(t){return e(j(t))},onKeysChanged:function(t){return e(q(t))},onDataChanged:function(t){return e(L(t))},onConfigChanged:function(t){return e(x(t))},onResultChanged:function(t){return e(function(e){return{type:"RESULT",result:e}}(t))},onLogsChanged:function(t){return e(function(e){return{type:"LOGS",logs:e}}(t))},onErrorChanged:function(t){return e(function(e){return{type:"RESULT",error:e}}(t))},onExecute:function(t){return e(w(t))}}}))((function(e){var t=Object(o.useState)(0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(o.useEffect)((function(){if(e.execute){var t=new Date,n=[],a=[],o={script:e.zencode,data:e.data,conf:null,keys:e.keys?JSON.parse(e.keys):null,print:function(e){n.push(e)},print_err:function(e){a.push(e)},success:function(){var o=a.length?a:[];e.onLogsChanged(o);var r=n.length?n:[];e.onResultChanged(r);var l=new Date-t;c(l)},error:function(){e.onLogsChanged([]),e.onResultChanged([{error:"Error detected. Execution aborted."}])}};X.a.init(o).zencode_exec(),e.onExecute(!1)}}),[e]),r.a.createElement("div",{className:"row justify-content-center flex-grow-1"},r.a.createElement("div",{className:"col-md-6",style:{padding:0}},r.a.createElement(Z,{zencode:e.zencode,zencodeChanged:e.onZencodeChanged,keys:e.keys,keysChanged:e.onKeysChanged,data:e.data,dataChanged:e.onDataChanged,config:e.config,configChanged:e.onConfigChanged})),r.a.createElement("div",{className:"col-md-6",style:{border:"2px solid #e8e8e8",padding:0,marginBottom:10}},r.a.createElement("div",{style:{padding:"10px 17px"}},r.a.createElement("h6",{style:{marginBottom:"30px"}},"Result:"),r.a.createElement("div",null,e.result.length>0&&e.result.map((function(e,t){return e.error?r.a.createElement("div",{style:{overflowWrap:"break-word",color:"red"},key:t},e.error):r.a.createElement("div",{key:t},r.a.createElement("pre",null,JSON.stringify(JSON.parse(e),null,"   ")))})),e.result.length>0&&r.a.createElement("div",{className:"d-flex justify-content-between mt-2"},r.a.createElement("p",null,r.a.createElement("i",null,"Executed in ",a," ms")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm mr-3",onClick:function(){e.onLogsChanged([]),e.onResultChanged([])}},"Clear"),r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm"},"Save result")))),e.logs.length>0&&r.a.createElement("div",{style:{marginTop:"50px",borderTop:"1px solid silver"}},r.a.createElement("h5",{style:{color:"red"}},"Logs:"),r.a.createElement("ul",null,e.logs.map((function(e,t){return r.a.createElement("li",{style:{color:"red"},key:t},e)})))))))})),$=n(158),ee=n(681),te=(n(671),function(e){return r.a.createElement(p.a,{trigger:"click",key:"bottom",placement:"bottom",overlay:r.a.createElement(v.a,{id:"popover-positioned-bottom"},r.a.createElement("div",{className:"d-flex justify-content-between popover-header"},r.a.createElement("h5",null,e.heading),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm"},"Save")),r.a.createElement(v.a.Content,null,r.a.createElement(Y.a,{mode:e.mode,theme:"ambiance",onChange:function(){},name:"UNIQUE_ID_OF_DIV",showPrintMargin:!1,width:"500px",value:"zencode"===e.mode?e.content:e.content&&J(e.content)?JSON.stringify(JSON.parse(e.content),null,"\t"):e.content})))},e.name?r.a.createElement("a",{href:"#"},e.name):e.content?r.a.createElement("a",{href:"#"},"show"):r.a.createElement("a",{href:"#",style:{color:"red"}},"empty"))}),ne=Object(s.g)(Object(u.b)((function(e){return{contracts:e.collections.contractCollection}}),(function(e){return{onLoadContracts:function(){return e((function(e,t){var n=t(),a=(n.zenroom,n.auth);if(a.userId&&a.token){var o={userId:a.userId};K.a.post("/data/load/contracts",o,{headers:{"auth-token":a.token}}).then((function(t){e(_(t.data))})).catch((function(t){console.log("Saving error:"),console.log(t),e(_([]))}))}}))},onLoadContract:function(t){return e(function(e){return{type:"CONTRACT",name:e.name,zencode:e.zencode,keys:e.keys,data:e.data,config:e.config}}(t))},onChangeUserLoaded:function(t){return e({type:"USER_LOADED",userLoaded:t})},onSelectedIndex:function(t){return e({type:"SELECTED_INDEX",selectedIndex:t})}}}))((function(e){Object(u.c)((function(e){return e.zenroom})).userContracts;var t=Object(o.useState)(!0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(o.useEffect)((function(){e.onChangeUserLoaded(!1),e.onSelectedIndex(null),e.contracts?c():e.onLoadContracts()}),[]),Object(o.useEffect)((function(){e.contracts.length?c(!1):e.onLoadContracts()}),[e.contracts]),r.a.createElement("div",{className:"pb-5 user-contracts pt-5"},a?r.a.createElement("div",null,r.a.createElement(A.a,{animation:"grow",variant:"success"}),r.a.createElement(A.a,{animation:"grow",variant:"danger"}),r.a.createElement(A.a,{animation:"grow",variant:"warning"})):r.a.createElement(ee.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Smart contract"),r.a.createElement("th",null,"Parameter (-a)"),r.a.createElement("th",null,"Parameter (-k)"),r.a.createElement("th",null,"Config (-c)"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.contracts&&e.contracts.map((function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement(b.a.Check,{"aria-label":"option 1"})),r.a.createElement("td",null,r.a.createElement(te,{name:t.db.name,content:t.file,mode:"zencode",heading:"Zencode",showTitle:!1})),r.a.createElement("td",null,r.a.createElement(te,{content:t.db.data,mode:"json5",heading:"Data"})),r.a.createElement("td",null,r.a.createElement(te,{content:t.db.keys,mode:"json5",heading:"Keys"})),r.a.createElement("td",null,r.a.createElement(te,{content:t.db.config,mode:"json5",heading:"Data"})),r.a.createElement("td",null,r.a.createElement("a",{onClick:function(){return function(t,n,a,o,r,c){e.onLoadContract({name:t,zencode:n,keys:a,data:o,config:r}),e.onChangeUserLoaded(!0),e.onSelectedIndex(c),e.history.push("/")}(t.db.name,t.file,t.db.keys,t.db.data,t.db.config,n)},style:{color:"black",cursor:"pointer"}},"Edit")),r.a.createElement("td",null,r.a.createElement(N.a,Object($.a)({onlabel:"ON",offlabel:"OFF",checked:!0,onstyle:"outline-success",offstyle:"outline-danger",height:"3",size:"xs"},"offstyle","outline-info"))))})))))}))),ae=Object(s.g)(Object(u.b)((function(e){return{userLoaded:e.zenroom.userLoaded,execute:e.zenroom.execute,contractName:e.zenroom.name,isAuthenticated:null!==e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{onAuth:function(t,n,a){return e(function(e,t,n){return function(a){a({type:"AUTH_START"});var o={email:e,password:t},r="/user/register";n||(r="/user/login"),K.a.post(r,o).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.userId),a(D(e.data.token,e.data.userId))})).catch((function(e){console.log("Error from server"),console.log(e.message),a(function(e){return{type:"AUTH_FAIL",error:e}}(e.message))}))}}(t,n,a))},onLogOut:function(){return e(R())},onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=localStorage.getItem("userId");e(D(t,n))}else e(R())}))},onExecute:function(){return e(w(!0))},resetSavingSuccess:function(){return e(I(!1))},resetSavingFailure:function(){return e(T(!1))},onChangeZencode:function(t){return e(j(t))},onChangeKeys:function(t){return e(q(t))},onChangeData:function(t){return e(L(t))},onUpdateContract:function(){return e((function(e,t){var n=t(),a=n.zenroom,o=n.auth;if(!o.userId||!o.token)return e(T("You must be logged in to save."));if(!a.zencode&&!a.keys&&!a.data&&!a.config)return e(T("There is no content to save."));var r={contract:{zencode:a.zencode,keys:a.keys,data:a.data,config:a.config},userId:o.userId},c="/data/update/contract/"+a.selectedIndex;K.a.post(c,r,{headers:{"auth-token":o.token}}).then((function(e){console.log("received response:"),console.log(e)})).catch((function(e){console.log("Saving error:"),console.log(e)}))}))}}}))((function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],l=Object(o.useState)(!1),u=Object(i.a)(l,2),m=u[0],f=u[1],g=function(e){c(e)},h=function(t){e.resetSavingSuccess(),e.resetSavingFailure(),f(t)},E=r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:W}),r.a.createElement(s.a,{to:"/"}));e.isAuthenticated&&(E=r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:W}),r.a.createElement(s.b,{path:"/profile",component:ne}),r.a.createElement(s.a,{to:"/"})));return Object(o.useEffect)((function(){e.onTryAutoSignup()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex flex-column vh-100",style:{paddingBottom:"30px"}},r.a.createElement(y,{showLogin:function(){return g(!0)},showSave:function(){return h(!0)},isAuthenticated:e.isAuthenticated,executeZenroom:e.onExecute,route:e.location.pathname,contracts:d,loadContract:function(t){d[t].zencode?fetch(d[t].zencode).then((function(e){return e.text()})).then((function(t){e.onChangeZencode(t)})):e.onChangeZencode(""),d[t].keys?fetch(d[t].keys).then((function(e){return e.text()})).then((function(t){e.onChangeKeys(t)})):e.onChangeKeys(""),d[t].data?fetch(d[t].data).then((function(e){return e.text()})).then((function(t){e.onChangeData(t)})):e.onChangeData("")},logout:e.onLogOut,contractName:e.contractName,userLoaded:e.userLoaded,updateContract:e.onUpdateContract}),E),a&&r.a.createElement(k,{showLogin:g,show:a,auth:e.onAuth,isAuthenticated:e.isAuthenticated,loading:e.loading,error:e.error}),m&&r.a.createElement(F,{showSave:h,show:m}))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(672);var oe=n(88),re=n(330),ce=function(e,t){return Object(O.a)(Object(O.a)({},e),t)},le={name:"",zencode:"",keys:"",data:"",result:"",config:"",error:"",logs:"",execute:!1,savedSuccess:!1,savedFail:!1,userLoaded:!1,userContracts:null,selectedIndex:null},ie=function(e,t){var n={userLoaded:t.userLoaded};return ce(e,n)},se=function(e,t){var n={zencode:t.zencode};return ce(e,n)},ue=function(e,t){var n={keys:t.keys};return ce(e,n)},de=function(e,t){var n={data:t.data};return ce(e,n)},me=function(e,t){var n={config:t.config};return ce(e,n)},fe=function(e,t){var n={result:t.result};return ce(e,n)},ge=function(e,t){var n={logs:t.logs};return ce(e,n)},he=function(e,t){var n={execute:t.execute};return ce(e,n)},Ee=function(e,t){var n={error:t.error};return ce(e,n)},pe=function(e,t){var n={savedSuccess:t.savedSuccess};return ce(e,n)},ve=function(e,t){var n={savedFail:t.savedFail};return ce(e,n)},ye=function(e,t){var n={userContracts:t.userContracts};return ce(e,n)},Ce=function(e,t){var n={selectedIndex:t.selectedIndex};return ce(e,n)},be=function(e,t){var n={name:t.name,zencode:t.zencode,keys:t.keys,data:t.data,config:t.config};return ce(e,n)},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ZENCODE":return se(e,t);case"KEYS":return ue(e,t);case"DATA":return de(e,t);case"CONFIG":return me(e,t);case"RESULT":return fe(e,t);case"LOGS":return ge(e,t);case"EXECUTE":return he(e,t);case"ERROR":return Ee(e,t);case"SAVING_SUCCESS":return pe(e,t);case"SAVING_FAIL":return ve(e,t);case"USER_CONTRACTS":return ye(e,t);case"CONTRACT":return be(e,t);case"USER_LOADED":return ie(e,t);case"SELECTED_INDEX":return Ce(e,t);default:return e}},ke={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},Oe=function(e,t){return ce(e,{error:null,loading:!0})},Se=function(e,t){return ce(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},Ne=function(e,t){return ce(e,{error:t.error,loading:!1})},ze=function(e,t){return ce(e,{token:null,userId:null})},Ke=function(e,t){return ce(e,{authRedirectPath:t.path})},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Oe(e);case"AUTH_SUCCESS":return Se(e,t);case"AUTH_FAIL":return Ne(e,t);case"AUTH_LOGOUT":return ze(e);case"SET_AUTH_REDIRECT_PATH":return Ke(e,t);default:return e}},qe={contractCollection:[],zencodeCollection:[],keysCollection:[],dataCollection:[],configCollection:[],resultCollection:[],isLoading:!1},Le=function(e,t){var n={isLoading:t.isLoading};return ce(e,n)},xe=function(e,t){var n={contractCollection:t.contractCollection};return ce(e,n)},we=function(e,t){var n={zencodeCollection:t.zencodeCollection};return ce(e,n)},Ie=function(e,t){var n={keysCollection:t.keysCollection};return ce(e,n)},Te=function(e,t){var n={dataCollection:t.dataCollection};return ce(e,n)},Ue=function(e,t){var n={configCollection:t.configCollection};return ce(e,n)},De=function(e,t){var n={resultCollection:t.resultCollection};return ce(e,n)},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESULT_COLLECTION":return Le(e,t);case"CONTRACT_COLLECTION":return xe(e,t);case"ZENCODE_COLLECTION":return we(e,t);case"KEYS_COLLECTION":return Ie(e,t);case"DATA_COLLECTION":return Te(e,t);case"CONFIG_COLLECTION":return Ue(e,t);case"RESULT_COLLECTION":return De(e,t);default:return e}},_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,Be=Object(oe.c)({zenroom:Ae,auth:je,collections:Re}),Fe=Object(oe.e)(Be,_e(Object(oe.a)(re.a))),Ge=r.a.createElement(u.a,{store:Fe},r.a.createElement(m.a,null,r.a.createElement(ae,null)));l.a.render(Ge,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e){e.exports=JSON.parse('[{"name":"Generate many random cryptographic objects","zencode":"/examples/zencode_simple/SYM01.zen","keys":"","data":""},{"name":"Encrypt a message using a password","zencode":"/examples/zencode_simple/SYM02.zen","keys":"","data":""},{"name":"Decrypt a secret message using a password","zencode":"/examples/zencode_simple/SYM03.zen","keys":"/examples/zencode_simple/cipher_message.json","data":""},{"name":"Generate a keypair","zencode":"/examples/zencode_simple/alice_keygen.zen","keys":"","data":""},{"name":"Encrypt a message for a public key recipient","zencode":"/examples/zencode_simple/AES05.zen","keys":"/examples/zencode_simple/alice_keypair.json","data":"/examples/zencode_simple/bob_pub.json"},{"name":"Decrypt a secret message using a-symmetric encryption","zencode":"/examples/zencode_simple/AES07.zen","keys":"/examples/zencode_simple/bob_keyring.json","data":"/examples/zencode_simple/alice_to_bob.json"},{"name":"Sign a message using public-key encryption","zencode":"/examples/zencode_simple/DSA01.zen","keys":"/examples/zencode_simple/alice_keypair.json","data":"/examples/zencode_simple/alice_signs_to_bob.json"},{"name":"Verify a signature using public-key encryption","zencode":"/examples/zencode_simple/DSA02.zen","keys":"/examples/zencode_simple/alice_pub.json","data":"/examples/zencode_simple/alice_signs_to_bob.json"}]')}},[[331,1,2]]]);
//# sourceMappingURL=main.30e61014.chunk.js.map